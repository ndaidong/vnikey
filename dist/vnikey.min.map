{"version":3,"sources":["0"],"names":["global","factory","exports","module","define","amd","self","vnikey","this","upperPairArray","pairs","map","pair","x","toUpperCase","reduce","prev","curr","consonants","allConsonants","join","vowels","allVowels","queue","split","vowelsWithMark","row","vowelsWithAccent","slice","nonVN","allNonVN","d9MapChar","d","D","k8Map","k7Map","concat","k6Map","transposedVowels","a","Object","keys","c","r","accentMap","1","2","3","4","5","isVowel","letter","indexOf","isVowelWithMark","isVowelWithAccent","isValidChar","char","replaceAccent","keynum","accentKeyPairs","includes","assignAccent","letters","curpos","count","mark","endWithVowel","info","lastLetter","length","getVowelInfo","lim","Math","min","i","nextChar","replacement","word","startsWith","prevChar","ignored","splice","getReplacement","some","search","isNotVN","assignD","origin","transforming","replace","assignMark","findReplacer","val","cursorPosition","vleft","substring","vright","leftPos","rightPos","relativePos","theWholeText","leftPart","substr","rightPart","activeWord","replaceWord","isContentEditable","tag","nodeName","isIframeEditor","parentNode","designMode","resolveRange","evt","sel","target","window","getSelection","doc","defaultView","parentWindow","rangeCount","getSelRange","range","getRangeAt","startOffset","endOffset","node","startContainer","data","deleteData","insertData","setStart","preventDefault","updateRangeText","resolve","keycode","input","document","activeElement","selectionStart","value","elm","focus","selectionEnd","updateText","onKeyPress","which","keyCode","getAttribute","isTextInput","isTextArea","registerEventListener","element","handler","addEventListener","autoSetup","Array","from","getElementsByTagName","forEach","frame","contentWindow","init","readyState","setTimeout","defineProperty"],"mappings":"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"}