{"version":3,"sources":["0"],"names":["global","factory","exports","module","define","amd","self","vnikey","this","upperPairArray","pairs","map","pair","x","toUpperCase","reduce","prev","curr","consonants","allConsonants","join","vowels","allVowels","queue","split","vowelsWithMark","row","vowelsWithAccent","slice","nonVN","allNonVN","d9MapChar","d","D","k8Map","k7Map","concat","k6Map","transposedVowels","a","Object","keys","c","r","accentMap","1","2","3","4","5","isVowel","letter","indexOf","isVowelWithMark","isVowelWithAccent","isValidChar","char","replaceAccent","keynum","accentKeyPairs","includes","assignAccent","letters","curpos","count","mark","endWithVowel","info","lastLetter","length","getVowelInfo","lim","Math","min","i","nextChar","replacement","word","startsWith","prevChar","ignored","splice","getReplacement","some","search","isNotVN","assignD","origin","transforming","replace","assignMark","findReplacer","val","cursorPosition","vleft","substring","vright","leftPos","rightPos","relativePos","theWholeText","leftPart","substr","rightPart","activeWord","replaceWord","isContentEditable","tag","nodeName","isIframeEditor","parentNode","designMode","exitEvent","evt","cancelBubble","stopPropagation","preventDefault","resolveRange","sel","target","window","getSelection","doc","defaultView","parentWindow","rangeCount","getSelRange","range","getRangeAt","startOffset","endOffset","node","startContainer","data","deleteData","insertData","setStart","updateRangeText","resolve","keycode","input","document","activeElement","selectionStart","value","elm","focus","selectionEnd","updateText","onKeyPress","which","keyCode","tagType","getAttribute","isTextInput","isTextArea","registerEventListener","element","handler","addEventListener","autoSetup","Array","from","getElementsByTagName","filter","frame","src","forEach","contentWindow","init","readyState","setTimeout","defineProperty"],"mappings":"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"}